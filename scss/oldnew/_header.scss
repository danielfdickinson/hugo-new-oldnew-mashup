/*! Copyright 2007-2020 Daniel F. Dickinson
    <cshored@thecshore.com>
 *  Released under the Creative Commons BY (Attribution) 4.0 License
 */
// OldNewMashup Theme Page Header Styling

// ########################################################################

// Mixins - sub-'functions'

// ########################################################################

@mixin top-bar-div-start-sibling-anchor($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  & + a {
    margin-top: 0;
  }
}

@mixin top-bar-anchor-link($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  & > a {
    height: $hamburger-top-bar-height;
    padding: 0;
    text-align: center;
    width: $hamburger-top-bar-width;

    &:link {
      color: $hamburger-top-bar-menu-link-color;
      display: block;
    }
  }
}

@mixin page-top-search-form($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  & form {
    display: inline-block;
    height: 100%;
    text-align: right;

    @supports (display: flex) {
      display: flex;
      flex-wrap: nowrap;
      justify-content: flex-end;
      text-align: left;
    }

    width: 100%;

    @supports (border-radius: 12px) {
      & input {
        border-radius: 12px;
      }
    }

    & input {
      border: 2px solid $default-top-bar-border-color;
      height: 100%;

      &[type='search'] {
        display: inline-block;
        width: 66%;

        @supports (flex: 1 2 5em) {
          flex: 1 2 5em;
          width: auto;
        }
      }

      &[type='submit'] {
        display: inline-block;
        max-width: 3em;
        width: 33%;

        @supports (flex: 0 1 3em) {
          flex: 0 1 3em;
          max-width: none;
          width: auto;
        }
      }
    }
  }
}

@mixin page-top-search-bar($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $visible: hidden) {

  @if $is-desktop == false {
    & .top-search {
      @include page-top-search-form($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      display: block;
      height: $hamburger-top-bar-height;
      left: 0;
      margin: 0;
      position: absolute;
      right: auto;
      top: $hamburger-top-bar-height;
      visibility: $visible;
      width: 100%;
      z-index: $hamburger-top-bar-z-index + 1;

      @supports (display: flex) {
        display: flex;
        justify-content: stretch;
      }
    }
  } @elseif $is-desktop == true {
    @if $is-older-browser == true {
      // Applied to all browsers (but overrriden, in some cases, below)

      & .top-search {
        display: none;
        visibility: hidden;
      }
    } @elseif $is-older-browser == false {
      // Applied to all browsers that support media queries

      & .top-search {
        @include page-top-search-form($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        display: block;
        height: $hamburger-top-bar-height;
        left: auto;
        margin: 0;
        position: absolute;
        right: 0;
        top: 0;
        visibility: visible;
        width: 60%;

        @supports (display: flex) {
          display: flex;
          justify-content: stretch;
        }
      }
    }
  }

  @if ($is-ie9-plus == true) or ($is-ie11 == true) {
    & .top-search {
      display: none;
      visibility: hidden;
    }
  }

  @if ($is-edge12-plus) {
    & .top-search {
      display: flex;
      visibility: visible;
    }
  }
}

@mixin menubar-submenu-hover-item-hover($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  &:hover,
  &:active {
    visibility: visible;

    & > li {
      &.menu-item {
        visibility: visible;
      }
    }
  }
}

@mixin menubar-submenu-menu-entry-hover($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  & > ul {
    &.menu-parent {
      @include menubar-submenu-hover-item-hover($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      visibility: visible;
    }
  }

  & > .menu-entry-wrapper {
    &:hover {
      background-color: $default-hover-background-color;
      color: $default-hover-color;
    }
  }
}

@mixin menubar-menu-needs-columns-hover($display-menu: false, $display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $menu-level: 0, $parent-selector: '& > ul') {
  &:hover {
    @include menubar-menu-list-active-wrapper(true, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level, $parent-selector);
  }
}

@mixin menubar-menu-needs-columns-active($display-menu: false, $display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $menu-level: 0, $parent-selector: '& > ul') {

  @if $menu-level <= $flyout-max-menu-level {
    &.needs-columns {
      & > li {
        &.menu-item {
          @if $display-menu == true or $display-menu-items == true {
            visibility: visible;
          } @elseif $display-menu-items == false {
            visibility: hidden;
          }

          @include menubar-menu-list-active-wrapper($display-menu-items, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level, $parent-selector);

          @include menubar-menu-needs-columns-hover($display-menu-items, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level, $parent-selector);
        }
      }
    }
  }
}

@mixin menubar-menu-list-active($menu-level: 1, $display-menu: false, $display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  @if $menu-level <= $flyout-max-menu-level {
    @include menubar-menu-needs-columns-active($display-menu-items, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level);

    @if $display-menu == true {
      visibility: visible;
    } @elseif $display-menu == false {
      visibility: hidden;
    }

    &:hover {
      visibility: visible;

      &.needs-columns {
        visibility: visible;

        &.needs-overflow {
          visibility: visible;
        }
      }
    }

    &.needs-columns {
      @if $display-menu == true {
        visibility: visible;
      } @elseif $display-menu == false {
        visibility: hidden;
      }

      &.needs-overflow {
        @if $display-menu == true {
          visibility: visible;
        } @elseif $display-menu == false {
          visibility: hidden;
        }
      }
    }

    & > li {
      &.menu-item {
        @if $display-menu == true or $display-menu-items == true {
          visibility: visible;
        } @elseif $display-menu-items == false {
          visibility: hidden;
        }

        @include menubar-menu-list-active-wrapper($display-menu-items, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level, '& > ul');

        &:hover {
          @include menubar-menu-list-active-wrapper(true, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $menu-level, '& > ul');
        }
      }
    }
  } @else {
    height: 0;
  }
}

@mixin menubar-menu-list-active-wrapper($display-menu: false, $display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $menu-level: 0, $parent-selector: '& > ul') {

  $specificity: '.menu-parent';

  @if $parent-selector == 'ul' {
    @for $addanother from 1 through 3 {
      $specificity: $specificity + $specificity;
    }
  }

  @if $parent-selector == 'ul' {
    @at-root #{$parent-selector} {
      &#{$specificity} {
        &:hover {
          @include menubar-menu-list-active($menu-level + 1, $display-menu, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        }
      }
    }

    & > #{$parent-selector} {
      &.menu-parent {
        @include menubar-menu-list-active($menu-level + 1, $display-menu, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
      }
    }
  } @else {
    #{$parent-selector} {
      &.menu-parent {
        @include menubar-menu-list-active($menu-level + 1, $display-menu, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
      }
    }
  }
}

@mixin page-top-bar-trigger-active($display-menu-items, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  @if $is-desktop == false {
    // Applied to all old small browsers or browsers with no hover

    visibility: visible;

    & > nav {
      &.menubar-site-menu {
        @include menubar-menu-list-active-wrapper(true, true, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');

        visibility: visible;
      }
    }

    & > .top-bar-start {
      visibility: visible;
    }

    & ~ div {
      &.top-bar-overlay {
        visibility: visible;
      }
    }

    & > a {
      &.site-badge {
        visibility: visible;
      }
    }

    & ul {
      &.menubar-site-menu-list {
        visibility: visible;
      }
    }

    & > div {
      &.top-search {
        visibility: visible;
      }
    }
  } @elseif $is-desktop == true {
    @if $is-older-browser == false {
      // Applied to all browsers that support media queries

      position: fixed;

      & > .top-bar-start {
        background-color: $hamburger-start-hover-background-color;
        visibility: visible;
      }

      & > a {
        &.site-badge {
          position: fixed;
          visibility: visible;
        }
      }

      & .top-search {
        visibility: visible;
      }

      & ~ div {
        &.top-bar-overlay {
          visibility: visible;
        }
      }

      & > nav {
        &.menubar-site-menu {
          @include menubar-menu-list-active-wrapper(false, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');

          position: fixed;
          visibility: hidden;
        }
      }
    }
  }

  @if ($is-ie9-plus == true) or ($is-ie11 == true) {
    & .top-search {
      display: none;
      visibility: hidden;
    }
  }

  @if $is-edge12-plus == true {
    & .top-search {
      display: inline-flex;
      right: 0;
      visibility: visible;
    }

    & > nav {
      &.menubar-site-menu {
        @include menubar-menu-list-active-wrapper(false, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');

        &:hover {
          visibility: visible;
        }
      }
    }
  } @elseif $is-older-browser == true {
    @include menubar-menu-list-active-wrapper(false, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');
  }
}

@mixin top-bar-trigger-checked-header($display-menu-items, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  & ~ header {
    &.top-bar {
      @include page-top-bar-trigger-active($display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
    }
  }
}

@mixin menubar-site-menu($display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  &.menubar-site-menu {
    background-color: $hamburger-top-bar-background-color;
    color: $hamburger-top-bar-menu-text-color;
    display: block;
    height: $hamburger-top-bar-height;
    left: $hamburger-top-bar-width;
    padding: 0;
    position: absolute;
    text-decoration: none;
    top: $hamburger-top-bar-height;
    @if $is-desktop == false {
      left: 0;
      width: 100%;
    } @elseif $is-desktop == true {
      width: $flyout-menu-item-width;
    }
    z-index: $flyout-z-index;

    &:hover {
      @include menubar-menu-list-active-wrapper(true, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');

      background-color: $hamburger-top-bar-background-color;
      color: $hamburger-top-bar-menu-link-color;
      visibility: visible;
    }

    & a {
      &:link {
        color: $hamburger-top-bar-menu-link-color;
      }
    }
  }
}

@mixin menubar-needs-columns-submenu($left-position, $left-margin, $start-menu-level, $needs-overflow, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  $submenu-selector: '&';

  @for $menu-level from $start-menu-level through $flyout-max-menu-level {
    $submenu-item-selector: '#{$submenu-selector} > li.menu-item';
    $submenu-selector: '#{$submenu-item-selector} > ul.menu-parent.menu-parent.menu-parent';

    $left-margin: -$left-margin;
    @if quote($left-position) != 'auto' {
      $left-position: -$left-position;
    }

    #{$submenu-selector} {
      @include menubar-submenu-hover-item-hover($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      display: block;
      margin: 0;
      overflow: visible;
      padding: 0;
      visibility: hidden;

      @if $is-desktop == false {
        float: none;
        height: auto;
        left: 0;
        margin-left: 0;
        margin-top: 0;
        position: static;
        width: 100%;
      } @elseif $is-desktop == true {

        left: $left-position;
        @if quote($left-position) == 'auto' {
          margin-left: $left-margin;
        }

        margin-top: -4ex;
        position: relative;
        top: 0;
        width: $flyout-menu-item-width + .1em;
      }

      @if $is-edge12-plus == true {
        @if $needs-overflow == false {
          left: 0;
          margin-left: 0;
        }
      }
    }

    #{$submenu-item-selector} {

      width: 100%;

      &:hover,
      &:active {
        @include menubar-submenu-menu-entry-hover($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
      }
    }
  }
}

@mixin menubar-needs-overflow($left-margin, $start-menu-level, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  &.needs-overflow {

    @include menubar-needs-columns-submenu(-$flyout-menu-item-width, -$flyout-menu-item-width, $start-menu-level, true, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    @if $is-desktop == false {
      height: auto;
      left: 0;
      margin-left: 0;
      overflow: visible;
      width: 100%;
    } @elseif $is-desktop == true {
      height: $flyout-menu-column-height;
      left: auto;
      margin-left: $left-margin;
      overflow: auto;
      width: $flyout-menu-column-width;
    }
  }
}

@mixin menubar-needs-columns($left-margin, $start-menu-level, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  @include menubar-needs-columns-submenu(-$flyout-menu-item-width, -$flyout-menu-item-width, $start-menu-level, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

  @if $is-desktop == false {
    height: auto;
    left: 0;
    margin-left: 0;
    overflow: visible;
    width: 100%;
  } @elseif $is-desktop == true {
    height: $flyout-menu-column-height;
    left: auto;
    margin-left: $left-margin;
    overflow: auto;
    width: $flyout-menu-column-width + .1em;
  }

  @supports (column-width: $flyout-menu-item-width) {
    @include menubar-needs-columns-submenu(auto, $left-margin, $start-menu-level, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    @include menubar-needs-overflow($left-margin, $start-menu-level, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    margin: 0;
    overflow: visible;
    top: auto;

    @if $is-desktop == false {
      height: 100%;
      left: 0;
      margin-left: 0;
      margin-top: 0;
      width: 100%;

      &:not(.needs-overflow) {
        column-width: inherit;
      }
    } @elseif $is-desktop == true {
      height: $flyout-menu-column-height;
      left: $left-margin;
      margin-top: -4ex;
      width: $flyout-menu-column-width + .1em;

      &:not(.needs-overflow) {
        column-fill: auto;
        column-gap: 0;
        column-width: $flyout-menu-item-width;
      }
    }
  }

  @if $is-ie11 == true {
    @include menubar-needs-columns-submenu(auto, $left-margin, $start-menu-level, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    @include menubar-needs-overflow($left-margin, $start-menu-level, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    margin: 0;
    overflow: visible;
    top: auto;
    width: auto;

    @if $is-desktop == false {
      height: 100%;
      left: 0;
      margin-top: 0;
      width: 100%;

      &:not(.needs-overflow) {
        column-width: inherit;
      }
    } @elseif $is-desktop == true {
      height: $flyout-menu-column-height;
      left: $left-margin;
      margin-top: -4ex;

      &:not(.needs-overflow) {
        column-fill: auto;
        column-gap: 0;
        column-width: $flyout-menu-item-width;
      }
    }
  }

  @if $is-edge12-plus {
    @include menubar-needs-columns-submenu(auto, $left-margin, $start-menu-level, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    @include menubar-needs-overflow($left-margin, $start-menu-level, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

    height: $flyout-menu-column-height;
    left: $left-margin;
    margin: 0;
    margin-top: -4ex;
    overflow: visible;
    top: auto;
    width: $flyout-menu-column-width + .1em;

    &:not(.needs-overflow) {
      column-fill: auto;
      column-gap: 0;
      column-width: $flyout-menu-item-width;
    }
  }
}

@mixin menubar-submenu($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  width: 100%;

  &.menubar-site-menu-list {
    position: absolute;
    top: $hamburger-top-bar-height;
  }

  @if $is-desktop == false {
    border: 0 none;

    visibility: hidden;
    width: 100%;

    &.menubar-site-menu-list {
      left: 0;
      width: 100%;
    }
  } @elseif $is-desktop == true {
    border: 2px solid $hamburger-top-bar-menu-border-color;

    &.menubar-site-menu-list {
      border-top: 0 none;
      width: $flyout-menu-item-width + .2em;

      @if $is-older-browser == false {
        top: 0;
      }
    }
  }

  $submenu-selector: '&';
  $left-margin: -100%;
  $submenu-background-color: $flyout-submenu-colors-0;

  @for $menu-level from 1 through $flyout-max-menu-level {
    $submenu-item-selector: '#{$submenu-selector} > li';
    $submenu-selector: '#{$submenu-item-selector} > ul';
    $left-margin: -$left-margin;
    $submenu-color-number: (($menu-level + 2) % 3);

    @if $is-desktop == true {
      @if $submenu-color-number == 0 {
        $submenu-background-color: $flyout-submenu-colors-0;
      } @elseif $submenu-color-number == 1 {
        $submenu-background-color: $flyout-submenu-colors-1;
      } @else {
        $submenu-background-color: $flyout-submenu-colors-2;
      }
    }

    #{$submenu-selector} {
      &.menu-parent {
        @include menubar-submenu-hover-item-hover($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        background-color: $submenu-background-color;
        display: block;
        margin: 0;
        overflow: visible;
        padding: 0;
        visibility: hidden;

        @if $is-desktop == false {
          border: 0 none;
          margin-top: 0;
          position: static;
        } @elseif $is-desktop == true {
          border: 2px solid $hamburger-top-bar-menu-border-color;
          left: $left-margin;
          margin-top: -4ex;
          position: absolute;
        }

        &.needs-columns {
          @include menubar-needs-columns($left-margin, $menu-level, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        }
      }
    }

    #{$submenu-item-selector} {
      &.menu-item {
        @if ($is-desktop == false) or ($has-no-hover-mq == true) {
          height: auto;
          position: static;
          width: 100%;
        } @elseif $is-desktop == true {
          height: $flyout-menu-item-height;
          width: $flyout-menu-item-width;
        }

        &:hover,
        &:active {
          @include menubar-submenu-menu-entry-hover($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        }
      }
    }
  }
}

@mixin menubar-menu-link($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  @if $is-desktop {
    @if $is-older-browser {
      // Applies to all browsers

      & .menu-link {
        background-color: inherit;
        display: block;
        height: 100%;
        overflow: hidden;
        padding: .4em;
        text-overflow: ellipsis;
        width: 100%;

        &:link,
        &:hover,
        &:active {
          display: block;
          text-decoration: none;
        }

        & .menu-entry {
          overflow: hidden;
          text-overflow: ellipsis;
          white-space: nowrap;
        }
      }
    }
  }
}

@mixin menubar-menu-entry-wrapper($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {

  & > .menu-entry-wrapper {
    background-color: inherit;
  }

  @if ($is-desktop == false) or ($has-no-hover-mq == true) {
    & > .menu-entry-wrapper {
      border: 0 none;
      border-bottom: 2px solid $default-top-bar-border-color;
      height: $flyout-menu-item-height;
      width: 100%;
    }
  } @elseif $is-desktop == true {
    @if $is-older-browser == true {
      // Applies to all browsers

      & > .menu-entry-wrapper {
        @include menubar-menu-link($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        border: 2px solid $hamburger-top-bar-menu-border-color;
        display: block;
        height: 100%;
        margin: 0;
        overflow: hidden;
        padding: 0;
        text-overflow: ellipsis;
        width: 100%;
      }
    } @elseif $is-older-browser == false {
      &  > .menu-entry-wrapper {
        border: 0 none;
      }
    }
  }
}

@mixin menubar-site-menu-list($display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  @include menubar-submenu($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

  list-style-position: outside;
  list-style-type: none;

  @if ($is-desktop == false) or ($has-no-hover-mq == true) {

    height: 100%;
    left: 0;
    overflow: visible;
    position: relative;
    width: 100%;

    & .menu-item {
      @include menubar-menu-entry-wrapper($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      border: 0 none;
      width: 100%;
    }
  } @elseif $is-desktop == true {
    @if $is-older-browser == true {
      // Applies to all browsers

      & {
        border-top: 0 none;
      }

      & .menu-item {
        @include menubar-menu-entry-wrapper($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        background-color: inherit;
        border: 2px solid $hamburger-top-bar-menu-border-color;
        display: block;
        height: $flyout-menu-item-height - .1em;
        margin: 0;
        overflow: visible;
        padding: 0;
        visibility: hidden;
        width: $flyout-menu-item-width - .3em;

        & ul {
          list-style-position: outside;
          list-style-type: none;
          visibility: hidden;
        }

        & a {
          &:link {
            color: $hamburger-top-bar-menu-link-color;
          }
        }
      }
    } @elseif $is-older-browser == false {
      // Applies to all browsers that understand media queries

      height: auto;
      top: 0;

      & .menu-item {
        @include menubar-menu-entry-wrapper($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        height: $flyout-menu-item-height;
        width: $flyout-menu-item-width;
      }

      &:hover,
      &:active {
        @include menubar-menu-list-active(1, true, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        visibility: visible;
      }
    }
  }
}

@mixin site-badge-hover($display-menu-items: null, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  &:hover {
    border: 2px inset $default-top-bar-hover-border-color;
    visibility: visible;

    & + nav {
      &.menubar-site-menu {
        @include menubar-menu-list-active-wrapper(true, $display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, 0, 'ul');
      }
    }
  }
}

@mixin site-badge-hover-wrapper($display-menu-items: null, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $visible: hidden) {
  & > a {
    &.site-badge {
      @include site-badge-hover($display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      @if $is-desktop == false {
        left: 0;
      } @elseif $is-desktop == true {
        left: $hamburger-top-bar-width;
      }
      position: relative;
      top: 0;
      visibility: $visible;
    }
  }
}

@mixin top-bar-site-menu($visible: hidden, $display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  & > header {
    &.top-bar {
      & > nav {
        @include menubar-site-menu($display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        visibility: $visible;
      }
    }
  }
}

@mixin header-wrapper-top-bar-trigger($display-menu-items: false, $is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null, $visible: visible) {
  & > .top-bar-trigger {
    &:checked,
    &:hover,
    &:active {
      @include top-bar-trigger-checked-header($display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
    }
  }

  & > header {
    &.top-bar {
      @include site-badge-hover-wrapper($display-menu-items, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, $visible);
    }
  }
}

@mixin curved-site-badge($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  @supports (text-overflow: ellipsis) {
    .site-badge {
      & .site-id {
        text-overflow: ellipsis;
      }
    }
  }

  @supports (display: flex) {
    .site-badge {
      align-items: center;
      display: inline-flex;
      justify-content: stretch;
      left: 0;
      line-height: 1.15rem;
      margin: 0;
      min-width:  $site-badge-width;
      position: relative;
      text-align: left;
      top: 0;
      width: $site-badge-width;

      & .graphics-row {
        align-content: center;
        align-items: stretch;
        display: inline-flex;
        flex: 0 0 $hamburger-top-bar-width;
        float: none;
        justify-content: stretch;
        text-align: left;
        width: auto;
      }

      & .site-id {
        align-self: center;
        display: block;
        flex: 0 0 $site-id-width;
        height: auto;
        max-width: $site-id-width;
        text-align: left;
        white-space: nowrap;

        & span {
          display: inline;
          vertical-align: baseline;
        }
      }
    }
  }

  .site-badge-graphic {
    align-self: center;
    flex: 0 0 $site-badge-graphic-width;
    width: auto;
  }

  @supports (border-radius: 12px) {
    .site-badge {
      border-radius: 12px;

      & .graphics-row {
        border-bottom-left-radius: 12px;
      }

      &:hover,
      &:active,
      &:link {
        border-radius: 12px;
      }
    }
  }

  @supports (border-top-left-radius: 12px) {
    .site-badge {

      & .graphics-row {
        border-top-left-radius: 12px;
      }
    }
  }
}

@mixin page-header($is-desktop: null, $is-older-browser: null, $is-ie9-plus: null, $is-ie11: null, $is-edge12-plus: null, $has-screen-mq: null, $has-speech-mq: null, $has-print-mq: null, $has-no-hover-mq: null) {
  @if ($is-desktop == false) or ($has-no-hover-mq == true) {
    // Displays on mq-capable small screen or with screens with no hover
    // (i.e. mobile)
    // Needs to be overridden when larger screen

    div {
      &.header-wrapper {
        @include header-wrapper-top-bar-trigger(true, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, hidden);

        @include top-bar-site-menu(hidden, true, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        @include curved-site-badge($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        @include page-top-search-bar($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, hidden);

        position: fixed;
        visibility: hidden;
      }
    }

    .top-bar-start {
      @include top-bar-anchor-link($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
      @include top-bar-div-start-sibling-anchor($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

      background-color: $hamburger-start-background-color;
      display: block;
      height: $hamburger-top-bar-height;
      left: auto;
      @supports (opacity: .5) {
        opacity: .5;
      }
      padding: 0;
      position: fixed;
      right: 0;
      text-align: center;
      visibility: visible;
      width: $hamburger-top-bar-width;
      z-index: $hamburger-top-bar-z-index + 1;
    }

    .top-bar-overlay {
      background-color: $top-bar-off-canvas-overlay-color;
      height: 100%;
      left: 0;
      opacity: $top-bar-off-canvas-overlay-opacity;
      position: fixed;
      top: 0;
      visibility: hidden;
      width: 100%;
      z-index: $top-bar-off-canvas-overlay-z-index;
    }

    .top-bar {
      @supports (background-color: transparent) {
        background-color: transparent;
      }
      color: $hamburger-top-bar-menu-text-color;
      height: $top-bar-off-canvas-height;
      left: 0;
      margin: 0;
      overflow: hidden;
      overflow-y: scroll;
      padding: 0;
      position: fixed;
      top: 0;
      visibility: hidden;
      width: $top-bar-off-canvas-width;
      z-index: $hamburger-top-bar-z-index;
    }

    ul {
      &.menubar-site-menu-list {
        @include menubar-site-menu-list(true, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
      }
    }

    .site-badge {
      left: 0;
      position: absolute;
      top: 0;
      visibility: hidden;
    }

    .top-bar-trigger {
      cursor: pointer;
      display: block;
      height: $hamburger-top-bar-height;
      left: auto;
      @supports (opacity: 0) {
        opacity: 0;
      }
      position: fixed;
      right: 0;
      top: 0;
      visibility: visible;
      width: $hamburger-top-bar-width;
      z-index: $hamburger-top-bar-z-index + 2;
    }

    .top-bar-start {
      border-radius: 12px;
    }

    .search-results {
      background-color: $search-results-background-color;
      bottom: 0;
      color: $search-results-text-color;
      display: block;
      max-height: 80%;
      overflow-x: hidden;
      overflow-y: scroll;
      position: fixed;
      right: 0;
      width: 100%;
      z-index: $flyout-z-index + 1;

      & a {
        background-color: $search-results-background-color;
        color: $search-results-link-color;

        &:link {
          color: $search-results-link-color;
        }

        &:visited {
          color: $search-results-visited-color;
        }

        &:active,
        &:hover {
          color: $search-results-hover-color;
        }
      }
    }

  } @elseif $is-desktop == true {
    @if $is-older-browser == true {
      // Is applied to all browsers

      // For the case where header tag is not understood
      .header-wrapper {
        background-color: $default-background-color;

        @supports (background-color: transparent) {
          background-color: transparent;
        }

        display: block;
        height: $hamburger-top-bar-height;
        left: 0;

        @supports (not (display: grid)) and (display: flex) {
          display: flex;
          flex: 1 1 100%;
          left: $hamburger-top-bar-width;
          order: 1;
        }

        overflow: visible;
        position: relative;
        top: 0;
        visibility: visible;
        width: 100%;
        z-index: $flyout-z-index;
      }

      .top-bar-trigger {
        @supports (background-color: transparent) {
          background-color: transparent;
        }
        display: none;
        height: 0;
        visibility: hidden;
        width: 0;
        z-index: 0;
      }

      // For the case where header tag is not understood
      .top-bar {
        @include site-badge-hover-wrapper(false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, hidden);

        background-color: $default-background-color;

        @supports (background-color: transparent) {
          background-color: transparent;
        }

        display: block;  // So children can be visible
        height: 0;
        overflow: visible;  // So children can be visible
        visibility: visible;  // So children can be visible
        width: 0;
        z-index: 0;
      }

      .top-bar-start {
        display: none;
        visibility: hidden;
      }

      // For the case where nav tag is not understood
      .menubar-site-menu {
        display: block;  // So children can be visible
        height: 0;
        overflow: visible;  // So children can be visible
        visibility: hidden;
        width: 0;
        z-index: 0;
      }

      // For the case where nav tag is not understood
      ul {
        &.menubar-site-menu-list {
          @include menubar-site-menu-list(false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq)

          background-color: $default-background-color;
          border: 2px solid $menubar-top-level-border-color;
          display: block;
          left: .3em;
          margin: 0;
          overflow: visible;
          padding: 0;
          position: fixed;
          top: $hamburger-top-bar-height + .6em;
          visibility: hidden;
          width: $flyout-menu-item-width - .1em;
          z-index: $flyout-z-index;
        }
      }

      .top-search {
        display: none;
        visibility: hidden;
      }

      .top-bar-overlay {
        background-color: $default-background-color;
        display: block;
        height: $hamburger-top-bar-height + 1;
        left: 0;
        position: relative;
        top: 0;
        visibility: visible;
        width: 100%;
        z-index: 0;

        @supports (opacity: 0) {
          opacity: 0;
        }
      }

      .site-badge {
        align-content: center;
        background-color: $default-top-bar-background-color;
        border: 2px solid $default-top-bar-border-color;
        color: $default-link-color;
        display: block;
        height: $hamburger-top-bar-height;
        line-height: $hamburger-top-bar-height;
        margin: 0;
        margin-left: .2em;
        margin-top: .2em;
        max-width: $site-badge-width;
        overflow: hidden;
        padding: 0;
        position: fixed;
        visibility: visible;
        z-index: $hamburger-top-bar-z-index;

        & .graphics-row {
          background-color: $site-badge-graphic-background-color;

          display: block;
          float: left;
          height: 100%;
          max-width: $site-badge-graphic-width;
        }

        & .site-id {
          display: block;
          font-family: Georgia, serif;
          height: 100%;
          margin-left: .2em;
          max-width: $site-id-width;
          overflow: hidden;
          @supports (text-overflow: ellipsis) {
            text-overflow: ellipsis;
          }

          & span {
            display: block;
            vertical-align: middle;
          }
        }

        &:link,
        &:hover,
        &:active {
          text-decoration: none;
        }

        &:hover,
        &:active {
          .graphics-row {
            background-color: $default-background-color;

            @supports (background-color: transparent) {
              background-color: transparent;
            }
          }
        }
      }

      .site-badge-graphic {
        height: 100%;
        overflow: hidden;
        padding: 0;
        text-align: center;
        width: 100%;
      }

      .search-results {
        display: none;
        visibility: hidden;
      }
    } @elseif $is-older-browser == false {
      // applies to all browsers which understand media queries

      div {
        &.header-wrapper {
          @include top-bar-site-menu(hidden, false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

          @include curved-site-badge($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

          @include header-wrapper-top-bar-trigger(false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, visible);

          background-color: $hamburger-top-bar-background-color;
          @supports (background-color: transparent) {
            background-color: transparent;
          }
          position: relative;
          visibility: visible;
        }
      }

      .top-bar-trigger {
        cursor: pointer;
        display: block;
        height: $hamburger-top-bar-height;
        left: 0;
        @supports (opacity: 0) {
          opacity: 0;
        }
        position: fixed;
        top: 0;
        visibility: visible; // so we can activate it
        width: $hamburger-top-bar-width;
        z-index: $hamburger-top-bar-z-index + 2;
      }

      header {
        &.top-bar {
          @include page-top-search-bar($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq, visible);

          @supports (background-color: transparent) {
            background-color: transparent;
          }
          color: $hamburger-top-bar-menu-text-color;
          height: $hamburger-top-bar-height;
          margin: 0;
          overflow: visible;
          padding: 0;
          position: absolute;
          top: 0;
          visibility: visible;
          width: 100%;
          z-index: $flyout-z-index;
        }
      }

      .top-bar-start {
        @include top-bar-anchor-link($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        @include top-bar-div-start-sibling-anchor($is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);

        background-color: $hamburger-start-background-color;
        display: block;
        height: $hamburger-top-bar-height;
        left: 0;
        @supports (opacity: .5) {
          opacity: .5;
        }
        padding: 0;
        position: fixed;
        right: 0;
        text-align: center;
        visibility: visible;
        width: $hamburger-top-bar-width;
        z-index: $hamburger-top-bar-z-index + 1;
      }

      a {
        &.site-badge {
          left: $hamburger-top-bar-width;
          visibility: visible;
        }
      }

      ul {
        &.menubar-site-menu-list {
          @include menubar-site-menu-list(false, $is-desktop, $is-older-browser, $is-ie9-plus, $is-ie11, $is-edge12-plus, $has-screen-mq, $has-speech-mq, $has-print-mq, $has-no-hover-mq);
        }
      }

      div {
        &.top-bar-overlay {
          background-color: $default-background-color;

          @supports (background-color: transparent) {
            background-color: transparent;
          }

          height: $hamburger-top-bar-height + .2em;
          left: 0;
          opacity: 1;
          position: relative;
          visibility: visible;
          z-index: 0;
        }
      }

      @supports (display: grid) {
        .header-wrapper {
          grid-column-end: 1;
          grid-column-start: 3;
          grid-row-end: 1;
          grid-row-start: 1;
        }

        .site-badge {
          align-items: center;
          display: flex;
          justify-content: stretch;
          left: $hamburger-top-bar-width;
          margin: 0;
          min-width:  $site-badge-width;
          position: absolute;
          text-align: left;
          top: 0;
          width: $site-badge-width;
        }
      }

      .search-results {
        background-color: $search-results-background-color;
        bottom: 0;
        color: $search-results-text-color;
        display: block;
        max-height: 80%;
        overflow-x: hidden;
        overflow-y: scroll;
        position: fixed;
        right: 0;
        width: 100%;
        z-index: $flyout-z-index + 1;

        & a {
          background-color: $search-results-background-color;
          color: $search-results-link-color;

          &:link {
            color: $search-results-link-color;
          }

          &:visited {
            color: $search-results-visited-color;
          }

          &:active,
          &:hover {
            color: $search-results-hover-color;
          }
        }
      }

      div {
        &.top-bar-overlay {
          background-color: $default-background-color;

          @supports (background-color: transparent) {
            background-color: transparent;
          }

          display: block;
          left: 0;
          position: relative;
          top: 0;
          visibility: visible;
          width: 100%;
          z-index: 0;
        }
      }

      .top-bar-start {
        border-radius: 12px;
      }

      @if ($is-ie9-plus == true) or ($is-ie11 == true) {
        .search-results {
          display: none;
          visibility: hidden;
        }
      }

      @if $is-ie11 == true {
        .site-badge {
          border-radius: 12px;

          & .graphics-row {
            border-bottom-left-radius: 12px;
            border-top-left-radius: 12px;
          }

          &:hover,
          &:active,
          &:link {
            border-radius: 12px;
          }
        }

        .top-bar-start {
          border-radius: 12px;
        }
      }
    }
  }

  @if $has-speech-mq == true {
    div {
      &.header-wrapper {
        @supports (flex: 1 1 100%) {
          flex: 1 1 100%;
          order: 1;
          width: initial;
        }
      }
    }
  }
}
